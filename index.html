<!DOCTYPE html>
<html lang="en">
<head>
	<title>Bar Chart Example</title>
	<!-- // <script type="text/javascript" src="http://d3js.org/d3.v2.js"></script> -->
	<script src="http://d3js.org/d3.v3.min.js"></script>
     <script src="http://labratrevenge.com/d3-tip/javascripts/d3.tip.v0.6.3.js"></script>
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
	<style>
		.bar { fill: rgba(59, 89, 152,0.9); }
		.text {
  			fill:black;
  			font: 10px sans-serif;
  			text-anchor: middle;
		}
		.x-axis {
  			fill:black;
  			font: 8px sans-serif;
  			text-anchor: middle;
		}
		.y-axis {
  			fill:black;
  			font: 10px sans-serif;
  			text-anchor: middle;
		}
		.d3-tip {
			line-height: 1;
			/*font-weight: bold;*/
			padding: 12px;
			background: rgba(255, 255, 255, 0.9);
			/*color: rgba(74,193,192,.8);*/
			color:black;
			border-radius: 1px;
		}
		/* Creates a small triangle extender for the tooltip */
		.d3-tip:after {
		  box-sizing: border-box;
		  display: inline;
		  /*font-size: 10px;*/
		  width: 100%;
		  line-height: 1;
		  color: rgba(255, 255, 255, 0.4);
		  content: "\25BC";
		  position: absolute;
		  text-align: center;
		}

		/* Style northward tooltips differently */
		.d3-tip.n:after {
		  margin: -1px 0 0 0;
		  top: 100%;
		  left: 0;
		}
	</style>
	<script src="fb-bar.js"></script>
</head>
<body>
	<div id="chart"></div>
    	<select id="phrases"></select>
    	<button type="button" onclick="onClick()" class="pure-button pure-button-primary pure-u-3-3">Refresh</button>
</body>

	<script type="text/javascript">
	var chart = new Chart();
	chart.init(loadPhrases);
	
	function loadPhrases(phrases){
		$("#phrases").empty();
		html ="";
		for (var i = 0; i < phrases.length; i++) {
			if(i !== 0){
				html+= "<option value='" + phrases[i] + "'>" + phrases[i] + "</option>";
			}
		};
		$("#phrases").append(html);
		$("select#phrases").attr('selectedIndex', 0);
	}

	function onClick(){
		var phrase = $("#phrases option:selected").val() 
		chart.updateGraph(phrase);
	}
	

	</script>


</html>